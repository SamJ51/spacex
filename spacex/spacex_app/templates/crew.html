{% extends "base.html" %}

{% block content %}
<h1 class="heading">SpaceX Crew</h1>
<div class="class-structure">
    {% for m in crew_members %}
    <div class="card">

        <!-- Photo -->
        {% if m.image %}
        <img class="portrait" src="{{ m.image }}" alt="{{ m.name }} portrait" />
        {% endif %}

        <!-- Card Text Content -->
        <div class="card-body">
            <h2 class="card-title">{{ m.name|default:"Unnamed crew member" }}</h2>

            <!-- Wikipedia Link -->
            {% if m.wikipedia %}
            <a class="wiki-link" href="{{ m.wikipedia }}" target="_blank" rel="noopener">Wikipedia</a>
            {% endif %}

            <!-- Agency & Status -->
            <p><strong>Agency:</strong> {{ m.agency|default:"—" }}</p>
            <p><strong>Status:</strong> {{ m.status|default:"—" }}</p>

            <!-- Entities / IDs -->
            <div class="kv">
                <p><strong>Crew ID:</strong> {{ m.id|default:"—" }}</p>
                <p><strong>Launch IDs:</strong>
                    {% if m.launches %}{{ m.launches|join:", " }}{% else %}—{% endif %}
                </p>
            </div>

        </div>
    </div>
    {% empty %}
    <p>No crew data available.</p>
    {% endfor %}
</div>
{% endblock %}