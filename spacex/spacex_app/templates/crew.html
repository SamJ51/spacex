{% extends "base.html" %}
{% block extra_css %}
<style>
    img.portrait {
        width: 300px;
        height: 300px;
        border-radius: 50px;
        display: block;
        object-fit: cover
    }

    .card {
        display: inline-block;
        padding: 30px;
        background-color: #eeeeee;
        border-radius: 50px;
        margin: 20px;
    }

    .class-structure {
        display: flex;
        flex-wrap: wrap;
        justify-content: center;
        gap: 20px;
    }

    .wiki-link {
        width: 120px;
        color: #fff;
        background-color: #111;
        min-height: 100vh;
        padding: 0.5rem;
        text-decoration: none;
        border-radius: 5px;
        font-family: helvetica;
    }

    .wiki-link:hover {
        opacity: 50%;
    }

    p,
    h1,
    h2 {
        font-family: Arial, Helvetica, sans-serif;
    }

    .heading {
        text-align: center;
        font-size: 40px;
    }
</style>
{% endblock %}
{% block content %}
<h1 class="heading">SpaceX Crew</h1>
<div class="class-structure">
    {% for m in crew_members %}
    <div class="card">

        <!-- Photo -->
        {% if m.image %}
        <img class="portrait" src="{{ m.image }}" alt="{{ m.name }} portrait" />
        {% endif %}

        <!-- Card Text Content -->
        <div class="card-body">
            <h2 class="card-title">{{ m.name|default:"Unnamed crew member" }}</h2>

            <!-- Wikipedia Link -->
            {% if m.wikipedia %}
            <a class="wiki-link" href="{{ m.wikipedia }}" target="_blank" rel="noopener">Wikipedia</a>
            {% endif %}

            <!-- Agency & Status -->
            <p><strong>Agency:</strong> {{ m.agency|default:"—" }}</p>
            <p><strong>Status:</strong> {{ m.status|default:"—" }}</p>

            <!-- Entities / IDs -->
            <p><strong>Crew ID:</strong> {{ m.id|default:"—" }}</p>
            <p><strong>Launch IDs:</strong>
                {% if m.launches %}{{ m.launches|join:", " }}{% else %}—{% endif %}
            </p>
        </div>
    </div>
    {% empty %}
    <p>No crew data available.</p>
    {% endfor %}
</div>
{% endblock %}